# Deepgram NOVA 3 Transcription System - Configuration
# Arquitectura modular usando frameworks de clase mundial

# =============================================================================
# API CONFIGURATION
# =============================================================================

# API Key de Deepgram (requerido)
DEEPGRAM_API_KEY=your_api_key_here

# =============================================================================
# DEEPGRAM SERVICE CONFIGURATION
# =============================================================================

# Modelo de transcripción (NOVA 3 recomendado)
DEEPGRAM_MODEL=nova-3-general

# Idioma (multi para detección automática multilingüe)
DEEPGRAM_LANGUAGE=multi

# Codificación de audio
DEEPGRAM_ENCODING=linear16

# Frecuencia de muestreo (Hz)
DEEPGRAM_SAMPLE_RATE=16000

# Procesamiento multicanal (estéreo)
DEEPGRAM_MULTICHANNEL=true

# Formateo inteligente del texto
DEEPGRAM_SMART_FORMAT=true

# =============================================================================
# NOVA 3 ADVANCED FEATURES
# =============================================================================

# Resultados intermedios en tiempo real
DEEPGRAM_INTERIM_RESULTS=true

# Mejor detección de fin de habla
DEEPGRAM_ENDPOINTING=true

# Redacción de información personal (PII) - v4: usa 'redact'
DEEPGRAM_PII_REDACT=false

# Identificación de hablantes
DEEPGRAM_DIARIZE=false

# Tiempo de espera para fin de utterance (ms)
DEEPGRAM_UTTERANCE_END_MS=1000

# Eventos de actividad de voz
DEEPGRAM_VAD_EVENTS=true

# Reducir latencia
DEEPGRAM_NO_DELAY=false

# Formateo inteligente de números
DEEPGRAM_NUMERALS=true

# Filtrar lenguaje ofensivo
DEEPGRAM_PROFANITY_FILTER=false

# =============================================================================
# AUDIO CONFIGURATION
# =============================================================================

# Patrón de nombre para micrófono
MIC_NAME_SUBSTR=Blue Snowball

# Patrón de nombre para altavoz
SPK_NAME_SUBSTR=PRO

# Duración de frame (ms)
FRAME_MS=20

# Ganancia del micrófono
MIC_GAIN=3.0

# Ganancia del loopback
LOOP_GAIN=8.0

# Umbral de detección de voz
VAD_THRESHOLD=0.01

# Habilitar VAD
VAD_ENABLED=true

# Habilitar normalización
NORMALIZE_ENABLED=true

# Nivel objetivo de normalización
NORMALIZE_TARGET_LEVEL=0.7

# Método de resampling (poly o lineal)
RESAMPLE_METHOD=poly

# =============================================================================
# CONNECTION CONFIGURATION
# =============================================================================

# Región de Deepgram (us, eu)
DG_REGION=us

# URL base de WebSocket
DG_BASE_WSS=wss://api.deepgram.com

# Habilitar reconexión automática
RECONNECT_ENABLED=true

# Retraso entre reconexiones (segundos)
RECONNECT_DELAY=3.0

# Máximo número de reconexiones
MAX_RECONNECT_ATTEMPTS=5

# =============================================================================
# AUDIO MODE CONFIGURATION
# =============================================================================

# Modo de audio (mono, stereo)
AUDIO_MODE=stereo

# Layout estéreo (LR = Left=Mic/Right=Loopback, RL = Left=Loopback/Right=Mic)
STEREO_LAYOUT=LR

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Intervalo para logging de RMS (frames)
LOG_RMS_INTERVAL=100

# Habilitar logging de eventos
LOG_EVENTS=true

# Habilitar logging de transcripciones
LOG_TRANSCRIPT=true

# Habilitar logging de debug
LOG_DEBUG=false
LOG_TRANSCRIPT=true

# =============================================================================
# SALES COACHING SYSTEM CONFIGURATION
# =============================================================================

# Coach IA - Usar LLM como fallback para detección de objeciones
USE_LLM_FALLBACK=true

# Modelo de LLM para análisis de objeciones
LLM_MODEL=gpt-5-nano

# Timeout para llamadas LLM (segundos)
LLM_TIMEOUT_SEC=0.8

# API Key de OpenAI para análisis de objeciones
OPENAI_API_KEY=sk-your-openai-api-key-here

# Archivo JSON para persistir el playbook de respuestas
PLAYBOOK_JSON=data/playbook.json
